:{
:def test const (
     do putStrLn "Press any key to run tests, q to stop..."
        x <- getLine
        return $ if (x == "q")
                    then ""
                    else ":reload \n :main \n :test"
     )
:}